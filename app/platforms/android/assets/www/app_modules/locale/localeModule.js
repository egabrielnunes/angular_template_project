!function(){"use strict";angular.module("tp.locale",[]).factory("LanguageService",function($q,$http){var language,languageJSON;return{findLanguage:function(){var deferred=$q.defer();return navigator.globalization?navigator.globalization.getPreferredLanguage(function(languageDiscovered){languageDiscovered.value,language=languageDiscovered.value.match(/(pt)/)?"pt":"en",deferred.resolve(language)},function(){deferred.reject()}):deferred.reject(),deferred.promise},setLanguage:function(newLanguage){language=newLanguage},getLanguage:function(){return language},requestLanguageJSON:function(l){return $http({method:"POST",url:"/trippics_phonegap/src/app_modules/locale/languages/"+l+".json"})},setLanguageJSON:function(newLanguageJSON){languageJSON=newLanguageJSON},getLanguageJSON:function(){return languageJSON}}})}();